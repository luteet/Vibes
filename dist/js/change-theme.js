export default function changeTheme(e){const t=document.querySelector("html"),s=document.body,o=e.header;let r=!1;document.querySelectorAll("[data-change-theme-to]").forEach((e,a)=>{let c,d,i,l,n=document.querySelectorAll("[data-change-theme-to]")[a],g=a-1!=-1&&document.querySelectorAll("[data-change-theme-to]")[a-1],m=gsap.timeline();"light"==n.dataset.changeThemeTo?m.to(t,{"--background-color":"rgb(245,248,255)","--theme-color-1":"rgb(3,3,4)","--theme-color-1-reverse":"rgb(245,248,255)"}):m.to(t,{"--background-color":"rgb(3,3,4)","--theme-color-1":"rgb(245,248,255)","--theme-color-1-reverse":"rgb(3,3,4)"}),m.pause(),n.hasAttribute("data-change-theme-on-top")?(c="+100 bottom",d="+500 bottom"):(c=`-${window.innerHeight/7} 15%`,d=`+${window.innerHeight/3} 15%`),window.innerWidth>=992?(i=`-=${window.innerHeight/3} top`,l=`-=${window.innerHeight/3} top`):(i="-=500 top",l="-=500 top"),ScrollTrigger.create({trigger:e,start:i,end:l,onEnter:function(){"light"==n.dataset.changeThemeTo?(s.classList.remove("is-dark"),o.classList.add("mode-1")):(s.classList.add("is-dark"),o.classList.remove("mode-1"))},onEnterBack:function(e){s.classList.remove("is-dark"),g?"light"==g.dataset.changeThemeTo?(a-1==-1?s.classList.add("is-dark"):s.classList.remove("is-dark"),o.classList.add("mode-1")):(a-1==-1?s.classList.remove("is-dark"):s.classList.add("is-dark"),o.classList.remove("mode-1")):t.classList.contains("is-light-start")?(s.classList.remove("is-dark"),o.classList.add("mode-1")):(s.classList.add("is-dark"),o.classList.remove("mode-1"))}}),ScrollTrigger.create({trigger:n,scrub:1,start:c,end:d,onUpdate:e=>{m.progress(e.progress),console.log(e.progress),0==a&&1==e.progress&&(r=!0)}})}),r||(r=!0,s.classList.add("is-dark"),o.classList.remove("mode-1"),gsap.set(t,{"--background-color":"rgb(3,3,4)","--theme-color-1":"rgb(245,248,255)","--theme-color-1-reverse":"rgb(3,3,4)"}))}